# =============================================================================
# terraform.tfvars.example - Example variable values
# =============================================================================
# Copy this file to terraform.tfvars and fill in your values:
#   cp terraform.tfvars.example terraform.tfvars
#
# IMPORTANT: Never commit terraform.tfvars to git! It contains secrets.
# The .gitignore file should already exclude it.
# =============================================================================

# -----------------------------------------------------------------------------
# GCP Project (REQUIRED)
# -----------------------------------------------------------------------------
project_id = "your-gcp-project-id"

# -----------------------------------------------------------------------------
# Region/Zone (Optional - defaults are free-tier eligible)
# -----------------------------------------------------------------------------
# Free-tier eligible regions: us-west1, us-central1, us-east1
# region = "us-central1"
# zone   = "us-central1-a"

# -----------------------------------------------------------------------------
# CouchDB Credentials (REQUIRED)
# -----------------------------------------------------------------------------
couchdb_user     = "admin"
couchdb_password = "CHANGE_ME_use_a_strong_password_here_min_12_chars"

# -----------------------------------------------------------------------------
# Network Security (Port 5984 - Direct CouchDB Access)
# -----------------------------------------------------------------------------
# Default: [] (closed) - Recommended when using HTTPS or Tailscale
#
# With HTTPS: All traffic goes through port 443 (Caddy), no need for port 5984
# With Tailscale: Access via private VPN, no public ports needed
#
# Leave as [] (closed) for security:
# allowed_ips = []
#
# Only open if you need direct HTTP access (not recommended):
# allowed_ips = ["YOUR.IP.ADDRESS/32"]  # Specific IP only
# allowed_ips = ["0.0.0.0/0"]           # Public (INSECURE!)

allowed_ips = []  # Secure default - use HTTPS or Tailscale

# SSH access (leave empty to disable SSH firewall rule - recommended)
# ssh_allowed_ips = ["YOUR.IP.ADDRESS/32"]
ssh_allowed_ips = []

# -----------------------------------------------------------------------------
# Optional: Tailscale Configuration
# -----------------------------------------------------------------------------
# Get an auth key from: https://login.tailscale.com/admin/settings/keys
# - Create a new auth key
# - Mark as "Reusable" so the VM can reconnect after restarts
# - Set expiration (or make it non-expiring for personal use)
#
# If provided, Tailscale will be installed automatically, giving you private
# access to CouchDB without exposing it to the public internet!
#
# tailscale_auth_key = "tskey-auth-xxxxxxxxxxxxxxxxxxxxx"

# -----------------------------------------------------------------------------
# Optional: DuckDNS + Caddy Configuration (HTTPS for Mobile)
# -----------------------------------------------------------------------------
# Enable HTTPS with automatic Let's Encrypt certificates via Caddy.
# Required for Obsidian LiveSync on mobile devices!
#
# Setup:
# 1. Go to https://www.duckdns.org/
# 2. Sign in with Google/GitHub
# 3. Create a subdomain (e.g., "obsidian-yourname")
# 4. Copy your DuckDNS token
# 5. Set the values below
#
# enable_https = true
# duckdns_subdomain = "obsidian-yourname"  # WITHOUT .duckdns.org
# duckdns_token = "your-duckdns-token-here"

# -----------------------------------------------------------------------------
# For CI/CD Reference (not used directly by Terraform)
# -----------------------------------------------------------------------------
# terraform_state_bucket = "obsidian-couchdb-tfstate-UNIQUE_SUFFIX"
